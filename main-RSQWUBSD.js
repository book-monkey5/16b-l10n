import{a as l}from"./chunk-PWABWUSJ.js";import{$ as G,A as d,Aa as I,Ba as ne,F as p,G as C,M as h,O as m,P as $,Q as i,R as r,S as A,V as g,W as S,X as E,Y as P,Z as n,_ as j,c as L,ca as V,da as U,ea as W,h as T,ha as K,i as R,j as J,k as O,la as X,m as x,ma as q,na as _,oa as Y,p as B,q as M,ra as Z,s as z,sa as Q,t as y,ta as ee,u as c,ua as te,v as b,wa as oe,xa as ie,ya as u,z as f,za as re}from"./chunk-P5CDV6LF.js";function ue(e){let o=e,t=Math.floor(Math.abs(e)),a=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&a===0?1:5}var ae=["de",[["AM","PM"],void 0,void 0],void 0,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],void 0,void 0],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} 'um' {0}",void 0],[",",".",";","%","+","-","E","\xB7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","Euro",{ATS:["\xF6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[void 0,"\u0440."],CUC:[void 0,"Cub$"],DEM:["DM"],FKP:[void 0,"Fl\xA3"],GHS:[void 0,"\u20B5"],GNF:[void 0,"F.G."],KMF:[void 0,"FC"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],RUR:[void 0,"\u0440."],RWF:[void 0,"F.Rw"],SYP:[],THB:["\u0E3F"],TWD:["NT$"],XXX:[],ZMW:[void 0,"K"]},"ltr",ue];var fe=e=>["/books",e];function de(e,o){if(e&1&&(i(0,"li")(1,"a",6),n(2),i(3,"p",7),n(4),r()()()),e&2){let t=o.$implicit;p(),m("routerLink",V(3,fe,t.isbn)),p(),G(" ",t.title," "),p(2),j(t.subtitle)}}function he(e,o){e&1&&(i(0,"li"),n(1,"No results"),r())}function ge(e,o){if(e&1&&(i(0,"ul",3),h(1,de,5,5,"li",4)(2,he,2,0,"li",5),r()),e&2){let t=o.ngIf;p(),m("ngForOf",t),p(),m("ngIf",!t.length)}}var k=class e{constructor(o){this.service=o;this.results$=this.input$.pipe(T(t=>t.length>=3),R(500),J(),x(()=>this.isLoading=!0),O(t=>this.service.getAllSearch(t)),x(()=>this.isLoading=!1))}input$=new L;isLoading=!1;results$;static \u0275fac=function(t){return new(t||e)(C(ne))};static \u0275cmp=c({type:e,selectors:[["bm-search"]],decls:4,vars:5,consts:[["searchInput",""],["type","search","autocomplete","off","aria-label","Search",3,"input"],["class","search-results",4,"ngIf"],[1,"search-results"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink"],["role","doc-subtitle"]],template:function(t,a){if(t&1){let s=g();i(0,"input",1,0),S("input",function(){f(s);let ce=P(1);return d(a.input$.next(ce.value))}),r(),h(2,ge,3,2,"ul",2),U(3,"async")}t&2&&($("loading",a.isLoading),p(2),m("ngIf",W(3,3,a.results$)))},dependencies:[q,_,u,Y]})};var D=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["bm-home"]],decls:7,vars:0,consts:[["routerLink","/books",1,"button","red"]],template:function(t,a){t&1&&(i(0,"h1"),n(1,"Home"),r(),i(2,"a",0),n(3,` Show book list
`),r(),i(4,"h2"),n(5,"Search"),r(),A(6,"bm-search"))},dependencies:[u,k]})};var se=()=>{let e=y(l),o=y(ie);return e.isAuthenticated?!0:(window.alert("Not logged in!"),o.parseUrl("/home"))};var ve=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:D},{path:"books",loadChildren:()=>import("./chunk-OZPBLGAJ.js").then(e=>e.BooksModule)},{path:"admin",loadChildren:()=>import("./chunk-ZDJLVBCE.js").then(e=>e.AdminModule),canActivate:[se]}],F=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=b({type:e});static \u0275inj=M({imports:[I.forRoot(ve),I]})};function be(e,o){if(e&1){let t=g();i(0,"button",6),S("click",function(){f(t);let s=E();return d(s.auth.login())}),n(1,"Login"),r()}}function Ce(e,o){if(e&1){let t=g();i(0,"button",7),S("click",function(){f(t);let s=E();return d(s.auth.logout())}),n(1,"Logout"),r()}}var H=class e{constructor(o){this.auth=o}static \u0275fac=function(t){return new(t||e)(C(l))};static \u0275cmp=c({type:e,selectors:[["bm-root"]],decls:12,vars:2,consts:[["routerLink","/home","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/books","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/admin","routerLinkActive","active","ariaCurrentWhenActive","page"],[1,"actions"],["class","green",3,"click",4,"ngIf"],["class","red",3,"click",4,"ngIf"],[1,"green",3,"click"],[1,"red",3,"click"]],template:function(t,a){t&1&&(i(0,"nav")(1,"a",0),n(2,"Home"),r(),i(3,"a",1),n(4,"Books"),r(),i(5,"a",2),n(6,"Administration"),r(),i(7,"div",3),h(8,be,2,0,"button",4)(9,Ce,2,0,"button",5),r()(),i(10,"main"),A(11,"router-outlet"),r()),t&2&&(p(8),m("ngIf",!a.auth.isAuthenticated),p(),m("ngIf",a.auth.isAuthenticated))},dependencies:[_,oe,u,re]})};var N=class e{constructor(o){this.authService=o}intercept(o,t){let a="1234567890";if(this.authService.isAuthenticated){let s=o.clone({setHeaders:{Authorization:`Bearer ${a}`}});return t.handle(s)}else return t.handle(o)}static \u0275fac=function(t){return new(t||e)(z(l))};static \u0275prov=B({token:e,factory:e.\u0275fac})};var w=class e{constructor(){X(ae)}static \u0275fac=function(t){return new(t||e)};static \u0275mod=b({type:e,bootstrap:[H]});static \u0275inj=M({providers:[{provide:Z,useClass:N,multi:!0},{provide:K,useValue:"de"}],imports:[te,F,Q]})};ee().bootstrapModule(w,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
